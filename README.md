# uva_589

This question is fairly tricky and complicated. Since we have to achieve the optimum on both pushes and walks, it is algorithmically difficult to consider movements of box and pusher separately. And one feasible approach is to combine the states of box position and pusher position into one general state, which consists of a 4-dimension graph. To discover the shortest path between starting state and terminal state, we can assign higher privilege to box movement which guarantees the box movement will always be shortest. With such critical observation, we can design an extended BFS and calculate the minimal movement cost for each state. Each time we choose the state with minimal cost and extend all its frontiers to a priority queue. Once the target is found, we know it must be the optimal solution and we can use the back-trace method to re-construct the path.
